<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>PFS-Pipe - List of open repository and issue trackers</title>
  <link rel="stylesheet" href="/global.css" type="text/css" media="all">
  <style type="text/css">
    .gplv3 {background-color: #f2c0f2;}
  </style>
</head>
<body>
<h2>About Subaru PFS Survey Software</h2>

<div class="maintext">
<p><a href="http://pfs.ipmu.jp/">Subaru Prime Focus Spectrograph (PFS)</a> is an optical and near-infrared multi-fiber spectrograph with 2394 science fibers which are distributed over the 1.3 degree-diameter field at the prime focus of the 8.2m Subaru telescope. PFS is being developed as a part of <a href="http://sumire.ipmu.jp/en/">the Subaru Measurement of Images and Redshifts (SuMIRe) project</a> where a large-sky imaging survey is ongoing with <a href="http://hsc.mtk.nao.ac.jp/ssp/">Hyper Suprime-Cam (HSC)</a> and PFS will then conduct spectroscopic follow-up observation.
<br/>
While PFS will be operated as a facility instrument of the Subaru telescope, a large survey program up to &sim;300 nights over &sim;5 years can be carried out in parallel in the framework of Subaru Strategic Program (SSP). Survey operation and data analysis are processed by three software packages: Survey Planning and Tracking (SPT), Exposure Targeting Software (ETS), and Data Reduction Pipeline (DRP), while Instrument Control software (ICS) is developed in pararell to hardware development separately from the other three packages.
SPT manages a survey with updating the plan as it progresses taking into account inputs from observers and survey operators, and outputs from the data quality assessment and 
assurance.
ETS provides assignments of the ﬁbers to target objects at individual exposures taking into account various factors such as ﬂexures of the telescope and the prime focus instrument of PFS, and the residual effects of atmospheric dispersion after corrections by Atmospheric Dispersion Corrector (ADC). 
DRP reduces the two-dimensional spectral images on the spectrograph detectors, transform them into one-dimensional calibrated spectra and measure spectroscopic parameters.
<br/>
PFS data will be publicly available after a proprietary period (nominally 18 months) from observations via <a href="http://smoka.nao.ac.jp/">SMOKA</a> (data archive operated by <a href="http://www.nao.ac.jp/en/">NAOJ</a>). 
ETS is required for observers to prepare PFS observations and apply for Subaru open-use observing time. Meanwhile, the entire set of the Subaru PFS Survey Software packages are needed to coordinate and operate a large survey program. 
</p>
</div>

<h2>Project resources</h2>

<div class="maintext">
<p>2D DRP repositories (drp_stella, drp_stella_data, drp_instmodel, drp_instdata, obs_pfs; <span class="gplv3">colorized</span> in table following) are under GPLv3, all other repositories are under GPLv2.</p>
<p><a href="repos.html">Full list of available repositories</a> is also available.</p>
</div>

<table class="disptbl">
<thead>
<tr>
  <th>Package</th>
  <th><a href="http://pfspipe.ipmu.jp/jira/">JIRA</a> Project</th>
  <th>Software modules' description</th>
  <th><a href="https://github.com/Subaru-PFS/">GitHub</a> code repositories</th>
</tr>
</thead>
<tbody>
<tr>
  <td rowspan="2">Project wide</td>
  <td><a href="https://pfspipe.ipmu.jp/jira/browse/DAMD">DAMD</a></td>
  <td>PFS Datamodel. This provides a standardized representation of all PFS data
    products. 
    (This covers definition of data structures needed over the entire PFS project, 
    such as file name schema, instrument on-site data storage structure, 
    and detailed data format like FITS.)</td>
  <td><a href="https://github.com/Subaru-PFS/datamodel">datamodel</a></td>
</tr>
<tr>
  <td><a href="https://pfspipe.ipmu.jp/jira/browse/INFRA">INFRA</a></td>
  <td>PFS software development infrastructure. Documentation and configuration 
    of support tools are handled in this project.
    Any infrastrucural request shall be covered here.</td>
  <td><a href="https://github.com/Subaru-PFS/doc">doc</a>, 
      <a href="https://github.com/Subaru-PFS/pfs_www_pipe">pfs_www_pipe</a>
      </td>
</tr>
<tr>
  <td>ICS</td>
  <td><a href="https://pfspipe.ipmu.jp/jira/browse/INSTRM">INSTRM</a></td>
  <td>Instrument control software. This provides source codes for (almost all of) 
    the instrument control and their configurations.
    (Some repositories are excluded from this eco-system for NDA or 
    other reasons.)</td>
  <td><a href="https://github.com/Subaru-PFS?q=ics_">ics_*</a>,
      <a href="https://github.com/Subaru-PFS/tron_tron">tron_tron</a>,
      <a href="https://github.com/Subaru-PFS/tron_actorcore">tron_actorcore</a>
      </td>
</tr>
<tr>
  <td rowspan="3">DRP</td>
  <td rowspan="2"><a href="https://pfspipe.ipmu.jp/jira/browse/PIPE2D">PIPE2D</a></td>
  <td>The 2D data reduction pipeline. The 2D pipeline receives raw images
    read out from the detectors and produces one-dimensional, flat-fielded,
    sky-subtracted, flux- and wavelength-calibrated spectra ready for
    scientific analyses.</td>
  <td class="gplv3">
    <a href="https://github.com/Subaru-PFS/drp_stella">drp_stella</a> (code) <br />
    <a href="https://github.com/Subaru-PFS/drp_stella_data">drp_stella_data</a> (data)
    </td>
</tr>
<tr>
  <td>Wrapper for LSST/HSC pipeline (PFS-specific module in the HSC/LSST 
    stack, to codify part of the inputs and outputs of the 2d pipeline)</td>
  <td class="gplv3">
    <a href="https://github.com/Subaru-PFS/obs_pfs">obs_pfs</a>
    </td>
</tr>
<tr>
  <td><a href="https://pfspipe.ipmu.jp/jira/browse/SIM2D">SIM2D</a></td>
  <td>The 2D image simulator. This simulates raw images from the spectrograph detectors based on image characteritics from ray-tracing calculations of the optical model and detector characteristics.</td>
  <td class="gplv3">
    <a href="https://github.com/Subaru-PFS/drp_instmodel">drp_instmodel</a> (simulator) <br/> 
    <a href="https://github.com/Subaru-PFS/drp_instdata">drp_instdata</a> (model)
    </td>
</tr>
<tr>
  <td>ETS</td>
  <td><a href="https://pfspipe.ipmu.jp/jira/browse/FIBERALLOC">FIBERALLOC</a></td>
  <td>Fiber assignment software</td>
  <td><a href="https://github.com/Subaru-PFS/ets_fiber_assigner">ets_fiber_assigner</a></td>
</tr>
<tr>
  <td rowspan="3">SPT</td>
  <td rowspan="2"><a href="https://pfspipe.ipmu.jp/jira/browse/SURVEY">SURVEY</a></td>
  <td>Exposure time calculator (ETC)</td>
  <td><a href="https://github.com/Subaru-PFS/spt_ExposureTimeCalculator">spt_ExposureTimeCalculator</a></td>
</tr>
<tr>
  <td>Survey operational database system</td>
  <td><a href="https://github.com/Subaru-PFS/spt_operational_database">spt_operational_database</a></td>
</tr>
<tr>
  <td><a href="https://pfspipe.ipmu.jp/jira/browse/DB">DB</a></td>
  <td>Survey science database</td>
  <td></td>
</tr>
</tbody>
</table>

<h3>Development support services</h3>

<p>In addition to repositories at 
<a href="https://github.com/Subaru-PFS">Subaru-PFS organization at GitHub</a> 
and <a href="https://pfspipe.ipmu.jp/jira/">pfspipe JIRA</a>, the Subaru PFS 
Software team is using following services for our activity.</p>

<h4>git-lfs</h4>

<div class="maintext">
<p>PFS software development uses 
<a href="https://github.com/blog/1986-announcing-git-large-file-storage-lfs">Git LFS support on GitHub.com</a> 
to store, track, and distribute large binary data files, such as FITS sample 
data file to prenset definitions or to run CI, or binary configuration file 
for firmware. Refer <a href="https://git-lfs.githu.com">Git Large File Storage (LFS) web site</a> for installation and usage.</p>
<p>In the PFS software development project, it is encouraged to follow 
recommendations listed below for maintenanceability and userbility such as to 
reduce network load and local storage space for normal users.</p>
<ul>
  <li>Repository administrator shall consider to add LFS configuration for 
    possible file formats, like .fits, and to check '.gitattributes' file 
    registered into and pushed to the repository.</li>
  <li>If files to Git LFS are only used for CI, testing, or debugging, 
    consider to have a separated data repository, like 
    <a href="https://github.com/Subaru-PFS/drp_stella_data">drp_stella_data</a> 
    repository for 
    <a href="https://github.com/Subaru-PFS/drp_stella">drp_stella</a> 
    repository. 'drp_stella_data' repository contains test and sample data 
    mainly used to run code tests
    at <a href="https://travis-ci.org/Subaru-PFS">TravisCI</a>.</li>
  <li>It is recommended to have lines in README or docs/ with its target usage 
    like 'only for code testing but not for normal use', or 'files are 
    required to run code' if the repository is using git-lfs, for users to be 
    easily noticed whether ones need to download LFS contents or not.</li>
  <li>Users are not recommended to download files in LFS until files are 
    really required for their use. It is both to reduce unnecessarily storage 
    volume taken at user local and also network traffic from 
    <a href="https://help.github.com/articles/about-storage-and-bandwidth-usage">
    git repository service (github.com)</a>.</li>
</ul>
</div>

<h4>Slack</h4>

<div class="maintext">
<p><a href="https://sumire-pfs.slack.com/">PFS slack</a> is available. 
If you have an email address with a domain name of (some of) PFS collaboration 
institutions, you can <a href="https://sumire-pfs.slack.com/signup/">create 
an account</a> by yourself, or send a request of invitation to 
system administrator (pfs_at_pfs.ipmu.jp).</p>
<p>Below are frequently used channels, in addition to #general and #random. 
Also JIRA notifications are posted to #jira, GitHub notifications are to 
#github, TravisCI notifications are to each specific channel per repository 
configured.</p>
<dl>
  <dt>database</dt>
  <dd>PFS survey science database and infrastructure</dd>
  <dt>datamodel</dt>
  <dd>'datamodel' of PFS</dd>
  <dt>pipe2d</dt>
  <dd>2D data reduction pipeline</dd>
  <dt>ics</dt>
  <dd>Instrument control software</dd>
  <dt>jira-operation</dt>
  <dd>General chat on operation of PFSPIPE JIRA</dd>
</dl>
</div>

<h4>TravisCI</h4>

<div class="maintext">
<p>PFS is using <a href="https://travis-ci.org/Subaru-PFS/">TravisCI</a> for 
code testing on some of the repositories (mainly for 2D pipeline).</p>
<p>If some repositories in the Subaru-PFS organization on GitHub are not listed at <a href="https://travis-ci.org/Subaru-PFS/">TravisCI</a>, 
contact a repository owner of each repository or send a message to 
a corresponding <a href="https://pfspipe.ipmu.jp/mailman/listinfo">mailing list 
at the pfspipe.ipmu.jp</a> to propose using TravisCI.</p>
</div>

<div class="footlink">
<a href="index.html">back to top page</a>
</div>
<footer>
<p class="copyright">Copyright &#169; <a href="http://pfs.ipmu.jp/">Subaru Prime Focus Spectrograph (PFS) Project</a></p>
</footer>
</body>
</html>
